package edu.rit.smartFridge.util;

import java.util.Date;
import java.util.List;

import com.j256.ormlite.dao.Dao;

import edu.rit.smartFridge.model.InventoryItem;
import edu.rit.smartFridge.model.ShoppingList;
import edu.rit.smartFridge.model.ShoppingListItem;

public class ormliteConnect implements DataConnect
{
	// the DAO objects we use to access the our model
	private Dao<InventoryItem, Integer> inventoryItemDao = null;
	private Dao<ShoppingList, Integer> shoppingListDao = null;
	private Dao<ShoppingListItem, Integer> shoppingListItemDao = null;

	private DatabaseHelper databaseHelper = null;
	/**
	 * Autogenerated UID for serialization
	 */
	private static final long serialVersionUID = -244775505247558467L;
	
	public ormliteConnect()
	{
//		ConnectionSource c = new com.j256.ormlite.jdbc.JdbcConnectionSource();
//		ConnectionSource connectionSource = new JdbcConnectionSource(getString(R.string.db_connection));
//		inventoryItemDao = DaoManager.createDao(arg0, arg1)
	}

	/**
	 * You'll need this in your class to get the helper from the manager once
	 * per class.
	 */
	private DatabaseHelper getHelper()
	{
		if (databaseHelper == null)
		{
//			databaseHelper = OpenHelperManager.getHelper(context,
//					DatabaseHelper.class);
		}
		return databaseHelper;
	}
	
	/**
	 * Returns the Shopping Lists stored in the database.
	 */
	public List<ShoppingList> getLists()
	{
		List<ShoppingList> list = null;
		try
		{
			// query for all of the data objects in the database
			list = shoppingListDao.queryForAll();
		} catch (java.sql.SQLException e)
		{
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
		return list;
	}

	/**
	 * Returns the Shopping List with the specified ID
	 * 
	 * @param listId the ID of the list to return
	 */
	public ShoppingList getList(long listId)
	{
		ShoppingList list = null;
		try
		{
			shoppingListDao = getHelper().getShoppingListDao();
			// query for the list in the database with the specified ID
			list = shoppingListDao.queryForId((int) listId);
		} catch (java.sql.SQLException e)
		{
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
		return list;
	}

	public ShoppingList populateItems(ShoppingList list)
	{
		// TODO Auto-generated method stub
		return null;
	}

	public List<InventoryItem> getInventory()
	{
		// TODO Auto-generated method stub
		return null;
	}

	public List<InventoryItem> getItem(long UPC)
	{
		// TODO Auto-generated method stub
		return null;
	}

	public int getItemCount(long UPC)
	{
		// TODO Auto-generated method stub
		return 0;
	}

	public List<Date> getExpirationDates(long UPC)
	{
		// TODO Auto-generated method stub
		return null;
	}

	public List<Date> getPurchaseDates(long UPC)
	{
		// TODO Auto-generated method stub
		return null;
	}

}
